{"actuators": {"2": {"code": "\ndef set(value):\n    controllers['Mc1'].coolant_flood = value\n\ndef get():\n    controllers['Mc1'].coolant_flood\n", "type": "ToggleActuator", "initial_value": 0, "id": "Valve1"}, "3": {"code": "\ndef set(value):\n    controllers['Mc1'].coolant_mist = value\n\ndef get():\n    controllers['Mc1'].coolant_mist\n", "type": "ToggleActuator", "initial_value": 0, "id": "Valve2"}, "1": {"code": "\ndef set(value):\n    controllers['Mc1'].spindle_duty = value * 100\n\ndef get():\n    return 1 if controllers['Mc1'].spindle_duty else 0\n", "type": "ToggleActuator", "initial_value": 0, "id": "VacuumPump"}}, "head": {"1": {"y_axis_id": "y", "cameras": [{"y_axis_id": "y", "code": "\ndef move(point, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_xy_config = controllers[motion_controller_xy_id].config['axis']\n\n    # move x,y\n    position = {}\n    if 'x' in point:\n        position[x_axis_id] = point['x'] + offset['x']\n    if 'y' in point:\n        position[y_axis_id] = point['y'] + offset['y']\n    \n    controllers[motion_controller_xy_id].move(position, feed_rate)\n\ndef get_position():\n    return {\n        'x' : 200,\n        'y' : 201,\n        'z' : 202,\n        'r' : 204\n    }\n", "offset": {"y": -20.0, "x": -21.9}, "motion_controller_xy_id": "Mc1", "id": "Cam2", "x_axis_id": "x"}], "x_axis_id": "x", "placement_heads": [{"r_axis_id": "a", "code": "\ndef move(point, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_xy_config = controllers[motion_controller_xy_id].config['axis']\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park pick n place axis before moving x or y\n    if 'x' in point or 'y' in point:\n        controllers[motion_controller_zr_id].move({ \n            z_axis_id: axis_zr_config[z_axis_id]['park']\n        }, feed_rate)\n\n    # move x,y\n    position = {}\n    if 'x' in point:\n        position[x_axis_id] = point['x'] + offset['x']\n    if 'y' in point:\n        position[y_axis_id] = point['y'] + offset['y']\n    \n    if position:\n        controllers[motion_controller_xy_id].move(position, feed_rate)\n\n    # raise/descent and rotate nozzle\n    position = {}\n    if 'z' in point:\n        position[z_axis_id] = point['z']\n    if 'r' in point:\n        position[r_axis_id] = point['r']\n    \n    if position:\n        controllers[motion_controller_zr_id].move(position, feed_rate)\n\ndef get_position():\n    return {\n        'x' : 100,\n        'y' : 101,\n        'z' : 102,\n        'r' : 104\n    }\n\ndef jog(axis, step, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    axis_map = {\n        'x' : x_axis_id,\n        'y' : y_axis_id,\n        'z' : z_axis_id,\n        'r' : r_axis_id\n    }\n\n    if axis == 'x' or axis == 'y':\n        controllers[motion_controller_xy_id].jog(axis_map[axis], step, feed_rate)\n    if axis == 'z' or axis == 'r':\n        controllers[motion_controller_zr_id].jog(axis_map[axis], step, feed_rate)\n\n\ndef park(axis_list, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_xy_config = controllers[motion_controller_xy_id].config['axis']\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park z and r axis\n    park_position = {}\n    # park z even if x, y parking is desired\n    if 'x' in axis_list or 'y' in axis_list or 'z' in axis_list:\n        park_position[z_axis_id] = axis_zr_config[z_axis_id]['park']\n    if 'r' in axis_list:\n        park_position[r_axis_id] = axis_zr_config[r_axis_id]['park']\n\n    if park_position:\n        controllers[motion_controller_zr_id].move(park_position, feed_rate)\n\n    # park x and y axis\n    park_position = {}\n    if 'x' in axis_list:\n        park_position[x_axis_id] = axis_xy_config[x_axis_id]['park']\n    if 'y' in axis_list:\n        park_position[y_axis_id] = axis_xy_config[y_axis_id]['park']\n    \n    if park_position:\n         controllers[motion_controller_xy_id].move(park_position, feed_rate)\n\n\ndef pick(point, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park z and r axis\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park'],\n        r_axis_id: axis_zr_config[r_axis_id]['park']\n    }, feed_rate)\n\n    # move to pick point on x and y axis\n    controllers[motion_controller_xy_id].move({\n        x_axis_id: point['x'], \n        y_axis_id: point['y']\n    }, feed_rate)\n\n    # lower nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: point['z']\n    }, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park']\n    }, feed_rate)\n\n\ndef place(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # move to place point on x and y axis\n    controllers[motion_controller_xy_id].move({\n        x_axis_id: point['x'], \n        y_axis_id: point['y']\n    }, feed_rate)\n\n    # rotate nozzle\n    controllers[motion_controller_zr_id].move({\n        r_axis_id: rotation\n    }, feed_rate)\n\n    # lower nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: point['z']\n    }, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle, park rotation axis\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park'],\n        r_axis_id: axis_zr_config[r_axis_id]['park']\n    }, feed_rate)\n", "offset": {"y": 0.0, "x": 0.0}, "y_axis_id": "y", "motion_controller_xy_id": "Mc1", "vacuum_actuator_id": "Valve1", "motion_controller_zr_id": "Mc1", "x_axis_id": "x", "id": "PlaceHead1", "z_axis_id": "z"}, {"r_axis_id": "b", "code": "\ndef move(point, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_xy_config = controllers[motion_controller_xy_id].config['axis']\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park pick n place axis before moving x or y\n    if 'x' in point or 'y' in point:\n        controllers[motion_controller_zr_id].move({ \n            z_axis_id: axis_zr_config[z_axis_id]['park']\n        }, feed_rate)\n\n    # move x,y\n    position = {}\n    if 'x' in point:\n        position[x_axis_id] = point['x'] + offset['x']\n    if 'y' in point:\n        position[y_axis_id] = point['y'] + offset['y']\n\n    if position:\n        controllers[motion_controller_xy_id].move(position, feed_rate)\n\n    # raise/descent and rotate nozzle\n    position = {}\n    if 'z' in point:\n        position[z_axis_id] = 118 - point['z']\n    if 'r' in point:\n        position[r_axis_id] = point['r']\n    \n    if position:\n        controllers[motion_controller_zr_id].move(position, feed_rate)\n\ndef get_position():\n    return {\n        'x' : 200,\n        'y' : 201,\n        'z' : 202,\n        'r' : 204\n    }\n\ndef jog(axis, step, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    axis_map = {\n        'x' : x_axis_id,\n        'y' : y_axis_id,\n        'z' : z_axis_id,\n        'r' : r_axis_id\n    }\n\n    if axis == 'z':\n        step = -step\n\n    if axis == 'x' or axis == 'y':\n        controllers[motion_controller_xy_id].jog(axis_map[axis], step, feed_rate)\n    if axis == 'z' or axis == 'r':\n        controllers[motion_controller_zr_id].jog(axis_map[axis], step, feed_rate)\n\ndef park(axis_list, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_xy_config = controllers[motion_controller_xy_id].config['axis']\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park z and r axis\n    park_position = {}\n    # park z even if x, y parking is desired\n    if 'x' in axis_list or 'y' in axis_list or 'z' in axis_list:\n        park_position[z_axis_id] = axis_zr_config[z_axis_id]['park']\n    if 'r' in axis_list:\n        park_position[r_axis_id] = axis_zr_config[r_axis_id]['park']\n\n    if park_position:\n        controllers[motion_controller_zr_id].move(park_position, feed_rate)\n\n    # park x and y axis\n    park_position = {}\n    if 'x' in axis_list:\n        park_position[x_axis_id] = axis_xy_config[x_axis_id]['park']\n    if 'y' in axis_list:\n        park_position[y_axis_id] = axis_xy_config[y_axis_id]['park']\n    \n    if park_position:\n         controllers[motion_controller_xy_id].move(park_position, feed_rate)\n         \n\ndef pick(point, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # park z and r axis\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park'],\n        r_axis_id: axis_zr_config[r_axis_id]['park']\n    }, feed_rate)\n\n    # move to pick\n    # position x and y axis\n    controllers[motion_controller_xy_id].move({\n        x_axis_id: point['x'], \n        y_axis_id: point['y']\n    }, feed_rate)\n\n    # position z axis, lower nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: 118 - point['z']\n    }, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park']\n    }, feed_rate)\n\n\ndef place(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n    axis_zr_config = controllers[motion_controller_zr_id].config['axis']\n\n    # move to place point on x and y axis\n    controllers[motion_controller_xy_id].move({\n        x_axis_id: point['x'], \n        y_axis_id: point['y']\n    }, feed_rate)\n\n    # rotate nozzle\n    controllers[motion_controller_zr_id].move({\n        r_axis_id: rotation\n    }, feed_rate)\n\n    # lower nozzle\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: 118 - point['z']\n    }, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle, park rotation axis\n    controllers[motion_controller_zr_id].move({\n        z_axis_id: axis_zr_config[z_axis_id]['park'],\n        r_axis_id: axis_zr_config[r_axis_id]['park']\n    }, feed_rate)\n", "offset": {"y": 0.0, "x": -43.8}, "y_axis_id": "y", "motion_controller_xy_id": "Mc1", "vacuum_actuator_id": "Valve2", "motion_controller_zr_id": "Mc1", "x_axis_id": "x", "id": "PlaceHead2", "z_axis_id": "z"}], "motion_controller_xy_id": "Mc1"}}, "packages": {"2": {"length": 0.6, "width": 0.3, "height": 0.25, "id": "RES-0201"}, "21": {"length": 3.1, "width": 2.6, "height": 1.2, "id": "SOT-23-6"}, "3": {"length": 1.0, "width": 0.5, "height": 0.35, "id": "RES-0402"}, "10": {"length": 6.3, "width": 3.2, "height": 0.6, "id": "RES-2512"}, "4": {"length": 1.55, "width": 0.85, "height": 0.45, "id": "RES-0603"}, "14": {"length": 2.0, "width": 1.2, "height": 1.0, "id": "CAP-0805"}, "9": {"length": 5.0, "width": 2.5, "height": 0.6, "id": "RES-2010"}, "19": {"length": 3.1, "width": 2.6, "height": 1.2, "id": "SOT-23"}, "20": {"length": 3.1, "width": 2.6, "height": 1.2, "id": "SOT-23-5"}, "5": {"length": 2.0, "width": 1.2, "height": 0.45, "id": "RES-0805"}, "12": {"length": 1.0, "width": 0.5, "height": 0.5, "id": "CAP-0402"}, "8": {"length": 3.2, "width": 4.6, "height": 0.55, "id": "RES-1218"}, "6": {"length": 3.2, "width": 1.6, "height": 0.55, "id": "RES-1206"}, "15": {"length": 3.2, "width": 1.6, "height": 1.0, "id": "CAP-1206"}, "18": {"length": 3.7, "width": 1.7, "height": 1.7, "id": "SOD-80"}, "16": {"length": 3.2, "width": 2.2, "height": 1.0, "id": "CAP-1210"}, "1": {"length": 3.0, "width": 3.0, "height": 0.01, "id": "FID-1x3"}, "13": {"length": 1.55, "width": 0.85, "height": 1.0, "id": "CAP-0603"}, "7": {"length": 3.2, "width": 2.2, "height": 0.55, "id": "RES-1210"}, "17": {"length": 1.55, "width": 0.85, "height": 1.0, "id": "LED-0603"}, "11": {"length": 0.6, "width": 0.3, "height": 0.5, "id": "CAP-0201"}}, "controllers": {"2": {"adr": 80, "type": "input_output", "driver": "raspihats.i2c_hats.DQ10rly", "id": "Io1"}, "1": {"driver": "grbl", "type": "motion", "port": {"baudrate": 115200, "parity": "N", "stopbits": 1, "name": "/dev/ttyAMA0", "bytesize": 8}, "id": "Mc1"}}, "_default": {}, "feeders": {"1": {"point": {"y": 130.5, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "5.6K 1%", "package": "RES-1206"}, "count": 47, "id": "StripFeeder_1", "size": 47}, "2": {"point": {"y": 142.5, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "10nF 50V 10%", "package": "CAP-0603"}, "count": 15, "id": "StripFeeder_2", "size": 47}, "3": {"point": {"y": 154.5, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "24K 1%", "package": "RES-0603"}, "count": 47, "id": "StripFeeder_3", "size": 47}, "4": {"point": {"y": 166.6, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "18K 1%", "package": "RES-0603"}, "count": 47, "id": "StripFeeder_4", "size": 47}, "5": {"point": {"y": 178.7, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "47K 1%", "package": "RES-0603"}, "count": 47, "id": "StripFeeder_5", "size": 47}, "6": {"point": {"y": 190.7, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "12pF 50V 5%", "package": "CAP-0603"}, "count": 47, "id": "StripFeeder_6", "size": 47}, "7": {"point": {"y": 202.8, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "1uF 50V 5%", "package": "CAP-0603"}, "count": 47, "id": "StripFeeder_7", "size": 47}, "8": {"point": {"y": 214.8, "x": 225.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] -= (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "100nF 10V 5%", "package": "CAP-0603"}, "count": 47, "id": "StripFeeder_8", "size": 47}, "9": {"point": {"y": 133.2, "x": 252, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "BSS84", "package": "SOT-23"}, "count": 47, "id": "StripFeeder_9", "size": 47}, "10": {"point": {"y": 146, "x": 347.4, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "680R 5%", "package": "RES-0603"}, "count": 23, "id": "StripFeeder_10", "size": 23}, "11": {"point": {"y": 158, "x": 347.5, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "10K 1%", "package": "RES-0603"}, "count": 23, "id": "StripFeeder_11", "size": 23}, "12": {"point": {"y": 169.4, "x": 251.8, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "OSG50603C1E", "package": "LED-0603"}, "count": 47, "id": "StripFeeder_12", "size": 47}, "13": {"point": {"y": 181.4, "x": 251.8, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "PDTC114ET", "package": "SOT-23"}, "count": 47, "id": "StripFeeder_13", "size": 47}, "14": {"point": {"y": 194, "x": 347.3, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "0R 1%", "package": "RES-0603"}, "count": 23, "id": "StripFeeder_14", "size": 23}, "15": {"point": {"y": 206, "x": 347.3, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "150R 5%", "package": "RES-0603"}, "count": 23, "id": "StripFeeder_15", "size": 23}, "16": {"point": {"y": 217.4, "x": 251.6, "z": 31}, "code": "# get_point gets called before pick operation \n# and should return the next pick point\ndef get_point(point, count, size):\n    point['x'] += (size-count) * 3.98\n    return point", "type": "StripFeeder", "component": {"value": "LL4148", "package": "SOD-80"}, "count": 47, "id": "StripFeeder_16", "size": 47}}, "nozzle_carriages": {"2": {"rotation_axis_id": "b", "code": "\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - point.pop('z')\n\n    # park pick n place axis\n    controllers['MC1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['MC1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: 0\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['MC1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['MC1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - (point.pop('z') + package.height)\n\n    # move to pick point and rotate\n    controllers['MC1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['MC1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['MC1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "id": "NC2", "pnp_axis_id": "z", "vacuum_actuator_id": "Valve2"}, "1": {"rotation_axis_id": "a", "code": "\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z')\n\n    # park pick n place axis\n    controllers['MC1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['MC1'].move({\n        'x': x_position, \n        'y': y_position,\n        rotation_axis_id: 0\n    }, feed_rate)\n\n    # descent nozzle\n    controllers['MC1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['MC1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z') + package.height\n\n    # move to pick point and rotate\n    controllers['MC1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['MC1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['MC1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "id": "NC1", "pnp_axis_id": "z", "vacuum_actuator_id": "Valve1"}}, "placement_heads": {"2": {"rotation_axis_id": "b", "code": "\ndef move(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    # park pick n place axis before doing anything\n    controllers['Mc1'].move({ \n        pnp_axis_id: axis[pnp_axis_id].park\n    }, feed_rate)\n\n    # move to planar point\n    controllers['Mc1'].move({\n        'x': point['x'], \n        'y': point['y'],\n    }, feed_rate)\n\n    # raise/descent and rotate nozzle\n    controllers['Mc1'].move({\n        pnp_axis_id: 118 - point['z'],\n        rotation_axis_id: rotation\n    }, feed_rate)\n\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - point.pop('z')\n\n    # park pick n place axis\n    controllers['Mc1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: 0\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - (point.pop('z') + package.height)\n\n    # move to pick point and rotate\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "id": "PlaceHead2", "pnp_axis_id": "z", "vacuum_actuator_id": "Valve2"}, "1": {"rotation_axis_id": "a", "code": "\ndef move(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    # park pick n place axis before doing anything\n    controllers['Mc1'].move({ \n        pnp_axis_id: axis[pnp_axis_id].park\n    }, feed_rate)\n\n    # move to planar point\n    controllers['Mc1'].move({\n        'x': point['x'], \n        'y': point['y'],\n    }, feed_rate)\n\n    # raise/descent and rotate nozzle\n    controllers['Mc1'].move({\n        pnp_axis_id: point['z'],\n        rotation_axis_id: rotation\n    }, feed_rate)\n\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z')\n\n    # park pick n place axis\n    controllers['Mc1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['Mc1'].move({\n        'x': x_position, \n        'y': y_position,\n        rotation_axis_id: 0\n    }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z') + package.height\n\n    # move to pick point and rotate\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "id": "PlaceHead1", "pnp_axis_id": "z", "vacuum_actuator_id": "Valve1"}}, "axis": {"2": {"acc": 1500, "limit": 400, "feed_rate": 50000, "park": 5, "id": "y"}, "4": {"acc": 1500, "limit": 360, "feed_rate": 50000, "park": 0, "id": "a"}, "3": {"acc": 1500, "limit": 120, "feed_rate": 50000, "park": 59, "id": "z"}, "1": {"acc": 1500, "limit": 450, "feed_rate": 50000, "park": 5, "id": "x"}, "5": {"acc": 1500, "limit": 360, "feed_rate": 50000, "park": 0, "id": "b"}}, "heads": {"1": {"y_axis_id": "y", "motion_controller_id": "Mc1", "cameras": [{"offset": {"y": -20.0, "x": -21.9}, "id": "Cam2"}], "x_axis_id": "x", "id": "Head1", "placement_heads": [{"rotation_axis_id": "a", "code": "\ndef move(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    # park pick n place axis before doing anything\n    controllers['Mc1'].move({ \n        pnp_axis_id: axis[pnp_axis_id].park\n    }, feed_rate)\n\n    # move to planar point\n    controllers['Mc1'].move({\n        'x': point['x'] + offset['x'], \n        'y': point['y'] + offset['y']\n    }, feed_rate)\n\n    # raise/descent and rotate nozzle\n    controllers['Mc1'].move({\n        pnp_axis_id: point['z'],\n        rotation_axis_id: rotation\n    }, feed_rate)\n\ndef jog(axis, step, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    x_axis_id = 'x'\n    y_axis_id = 'y'\n    axis_map = {\n        'x' : x_axis_id,\n        'y' : y_axis_id,\n        'z' : pnp_axis_id,\n        'r' : rotation_axis_id\n    }\n\n    controllers[motion_controller_id].jog(axis_map[axis], step, feed_rate)\n\ndef get_position():\n    point = {\n        'x' : 100,\n        'y' : 101,\n        'z' : 102,\n    }\n    rotation = 104\n\n    return point, rotation\n\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z')\n\n    # park pick n place axis\n    controllers['Mc1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['Mc1'].move({\n        'x': x_position, \n        'y': y_position,\n        rotation_axis_id: 0\n    }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = point.pop('z') + package.height\n\n    # move to pick point and rotate\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "offset": {"y": 0.0, "x": 0.0}, "pnp_axis_id": "z", "motion_controller_id": "Mc1", "vacuum_actuator_id": "Valve1", "id": "PlaceHead1"}, {"rotation_axis_id": "b", "code": "\ndef jog(axis, step, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    x_axis_id = 'x'\n    y_axis_id = 'y'\n    axis_map = {\n        'x' : x_axis_id,\n        'y' : y_axis_id,\n        'z' : pnp_axis_id,\n        'r' : rotation_axis_id\n    }\n\n    if axis == 'z':\n        step = -step\n\n    controllers[motion_controller_id].jog(axis_map[axis], step, feed_rate)\n\ndef move(point, rotation, speed_factor=1):\n    feed_rate = 50000 * speed_factor\n\n    # park pick n place axis before doing anything\n    controllers[motion_controller_id].move({ \n        pnp_axis_id: axis[pnp_axis_id].park\n    }, feed_rate)\n\n    # move to planar point\n    controllers[motion_controller_id].move({\n        'x': point['x'] + offset['x'], \n        'y': point['y'] + offset['y']\n    }, feed_rate)\n\n    # raise/descent and rotate nozzle\n    controllers[motion_controller_id].move({\n        pnp_axis_id: 118 - point['z'],\n        rotation_axis_id: rotation\n    }, feed_rate)\n\ndef pick(point):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - point.pop('z')\n\n    # park pick n place axis\n    controllers['Mc1'].move(\n        {\n            pnp_axis_id: axis[pnp_axis_id].park\n        }, feed_rate)\n\n    # move to pick point\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: 0\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # enable vacuum\n    actuators[vacuum_actuator_id].set(True)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n\n\ndef place(point, rotation, package):\n    feed_rate = 50000\n    x_position = point.pop('x')\n    y_position = point.pop('y')\n    z_position = 118 - (point.pop('z') + package.height)\n\n    # move to pick point and rotate\n    controllers['Mc1'].move(\n        {\n            'x': x_position,\n            'y': y_position,\n            rotation_axis_id: rotation\n        }, feed_rate)\n\n    # descent nozzle\n    controllers['Mc1'].move({pnp_axis_id: z_position}, feed_rate)\n\n    # disable vacuum\n    actuators[vacuum_actuator_id].set(False)\n\n    # raise nozzle\n    controllers['Mc1'].move({pnp_axis_id: axis[pnp_axis_id].park}, feed_rate)\n", "offset": {"y": 0.0, "x": -43.8}, "pnp_axis_id": "z", "motion_controller_id": "Mc1", "vacuum_actuator_id": "Valve2", "id": "PlaceHead2"}]}}, "cameras": {"2": {"description": "Down looking camera", "id": "Cam2"}, "1": {"description": "Up looking camera", "id": "Cam1"}}}